/*!
 * idist-jodit - Jodit is awesome and usefully wysiwyg editor with filebrowser
 * Author: KimSunWook <ceo@idist.ai> (https://xdsoft.net/)
 * Version: v3.20.4
 * Url: https://github.com/IDIST/jodit
 * License(s): MIT
 */
	
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, function() {
return (self["webpackChunkidist_jodit"] = self["webpackChunkidist_jodit"] || []).push([[524],{

/***/ 18404:
/***/ (function(module) {

module.exports = "<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M365.4,59.628c60.56,0,109.6,49.03,109.6,109.47c0,109.47-109.6,171.8-219.06,281.271 C146.47,340.898,37,278.568,37,169.099c0-60.44,49.04-109.47,109.47-109.47c54.73,0,82.1,27.37,109.47,82.1 C283.3,86.999,310.67,59.628,365.4,59.628z\"/> </svg>"

/***/ }),

/***/ 13178:
/***/ (function(module) {

module.exports = "<svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M28.7,16.3l-12-13c-0.4-0.4-1.1-0.4-1.5,0l-12,13C3,16.6,2.9,17,3.1,17.4C3.2,17.8,3.6,18,4,18h3v10c0,0.6,0.4,1,1,1h16 c0.6,0,1-0.4,1-1V18h3c0.4,0,0.8-0.2,0.9-0.6C29.1,17,29,16.6,28.7,16.3z\"/> </svg>"

/***/ }),

/***/ 31189:
/***/ (function(module) {

module.exports = "<svg viewBox=\"0 0 252 252\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M0 16C0 7.16344 7.16344 0 16 0H85.6364C86.5205 0 87.3797 0.29288 88.0796 0.832871L120.92 26.1671C121.62 26.7071 122.48 27 123.364 27H227C235.837 27 243 34.1634 243 43V132.335C243 134.779 240.234 136.198 238.25 134.772L233 131L226.5 127L220 124L212.5 122L202.5 120L189 120.5L179.5 122.5L170.5 125.5L161.5 130.5L157 133.5L153 137L146.5 144L141 152L137 160L134 168L132.5 178L132 183.5V189.5L133 197.5L135 205.5L137.5 211.5L139.524 214.996C141.068 217.663 139.144 221 136.062 221H16C7.16344 221 0 213.837 0 205V16Z\"/> <circle cx=\"197\" cy=\"185\" r=\"56\"/> <path d=\"M188.364 215.955V151.591H204.636V215.955H188.364ZM164.318 191.909V175.636H228.682V191.909H164.318Z\" fill=\"white\"/> </svg>"

/***/ }),

/***/ 95634:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 76111:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 17601:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 21626:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 76391:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 76347:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 77643:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 44246:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 24064:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 58138:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4293:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 93702:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 90193:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 15819:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 87272:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 4519:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 18524:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 89008:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ 32493:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileBrowserPro = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(95634);
__webpack_require__(89727);
var modules_1 = __webpack_require__(46701);
var dialog_1 = __webpack_require__(68713);
var panel_1 = __webpack_require__(10086);
var helpers_1 = __webpack_require__(92654);
var decorators_1 = __webpack_require__(9901);
var constants_1 = __webpack_require__(10063);
var state_manager_1 = __webpack_require__(72607);
var header_1 = __webpack_require__(32474);
var image_editor_1 = __webpack_require__(87005);
var config_1 = __webpack_require__(27537);
var progress_1 = __webpack_require__(48333);
var factories_1 = __webpack_require__(43708);
var traits_1 = __webpack_require__(27671);
var persistent_store_1 = __webpack_require__(23807);
var history_manager_1 = __webpack_require__(67337);
var context_menu_1 = __webpack_require__(36010);
var helpers_2 = __webpack_require__(6331);
var index_1 = __webpack_require__(78460);
var license_1 = __webpack_require__(13395);
var lightbox_1 = __webpack_require__(94613);
var loading_manager_1 = __webpack_require__(99666);
var FileBrowserPro = (function (_super) {
    tslib_1.__extends(FileBrowserPro, _super);
    function FileBrowserPro(options) {
        var _this = _super.call(this, (0, helpers_1.ConfigProto)(Object.assign(options || {}, {
            resizable: true,
            draggable: true,
            toolbarButtons: (options === null || options === void 0 ? void 0 : options.toolbarButtons) ||
                config_1.Config.defaultOptions.filebrowser.buttons,
            buttons: index_1.Jodit.atom([
                'filebrowser.settings',
                'fullsize',
                'dialog.close'
            ])
        }), config_1.Config.defaultOptions.filebrowser)) || this;
        _this.dataProvider = (0, factories_1.makeDataProvider)(_this, _this.options);
        _this.state = (0, modules_1.observable)({
            onSelectCallBack: null,
            theme: 'default',
            showSideBar: true,
            showFavorites: true,
            showSettings: false,
            showPreview: false,
            withFolders: true,
            foldersPosition: 'bottom',
            info: '',
            metaInfo: null,
            currentPath: '',
            currentSource: '',
            currentBaseUrl: '',
            tree: [],
            activeElements: [],
            favorites: [],
            progress: 0,
            lastSelectedIndex: 0,
            elements: [],
            messages: [],
            sources: [],
            view: 'tiles',
            tileSize: 'default',
            sortBy: 'name-asc',
            filterWord: '',
            onlyImages: false
        });
        _this.persistent = new persistent_store_1.PersistentStore(_this, _this.state);
        _this.loadingManager = new loading_manager_1.LoadingManager(_this, _this.state);
        _this.stateManager = new state_manager_1.StateManager(_this.state);
        _this.historyManager = new history_manager_1.HistoryManager(_this, _this.state);
        _this.contextMenuManager = new context_menu_1.ContextMenuManager(_this);
        _this.header = new header_1.UIBrowserHeader(_this, _this.options, _this.stateManager);
        _this.panel = new panel_1.UIBrowserPanel(_this, _this.stateManager);
        _this.files = _this.panel;
        _this.tree = _this.panel;
        _this.progressbar = new progress_1.UIProgress(_this, _this.stateManager.state);
        license_1.license.make(_this);
        if (!_this.persistent.theme && _this.options.theme) {
            _this.persistent.theme = _this.options.theme;
        }
        _this.panel.append(_this.progressbar);
        _this.toolbar.setMod('mode', 'header');
        _this.setSize(Math.min(_this.options.width, screen.width), Math.min(_this.options.height, screen.height)).setHeader(_this.header);
        _this.onResizeWindow();
        _this.initUploader();
        _this.onChangeTheme();
        _this.fullFillOptions();
        _this.dataProvider.onProgress(function (percentage) {
            if (percentage === 0) {
                percentage = 30;
            }
            _this.state.progress = percentage;
        });
        _this.e.on('beforeClose', _this.removeGlobalListeners);
        _this.e.fire('afterInit');
        index_1.Jodit.prototype.afterInitHook.call(_this);
        return _this;
    }
    FileBrowserPro.prototype.className = function () {
        return 'FileBrowserPro';
    };
    FileBrowserPro.prototype.lock = function (name) {
        if (name === void 0) { name = 'any'; }
        this.container.classList.add('jodit_disabled');
        return _super.prototype.lock.call(this, name);
    };
    FileBrowserPro.prototype.unlock = function () {
        this.container.classList.remove('jodit_disabled');
        return _super.prototype.unlock.call(this);
    };
    FileBrowserPro.prototype.status = function (message, success) {
        var _this = this;
        if (success === void 0) { success = !(message instanceof Error); }
        if ((0, helpers_1.isAbort)(message)) {
            return;
        }
        var item = {
            message: (0, helpers_1.isString)(message) ? message : message.message,
            type: success ? 'success' : 'error'
        };
        this.stateManager.addMessage(item);
        this.async.setTimeout(function () {
            _this.stateManager.removeMessage(item);
        }, this.options.howLongShowMsg);
    };
    FileBrowserPro.prototype.addDisclaimer = function (elm) {
        this.dialog.appendChild(elm);
    };
    FileBrowserPro.prototype.open = function (callback, onlyImages) {
        if (callback === void 0) { callback = this.o
            .defaultCallback; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                this.state.onlyImages = Boolean(onlyImages);
                this.prepareOpening(callback);
                _super.prototype.open.call(this, this.panel.container);
                return [2, this.e.fire('update.filebrowser')];
            });
        });
    };
    FileBrowserPro.prototype.onResizeWindow = function () {
        (0, helpers_1.css)(this.dialog, {
            maxWidth: screen.width,
            minHeight: Math.min(this.options.height, screen.height),
            minWidth: Math.min(this.options.width, screen.width)
        });
    };
    FileBrowserPro.prototype.onChangePath = function () {
        var _a = this.state, currentPath = _a.currentPath, currentSource = _a.currentSource;
        this.uploader.setPath(currentPath);
        this.uploader.setSource(currentSource);
    };
    FileBrowserPro.prototype.onChangeTheme = function () {
        this.setMod('theme', this.state.theme);
        this.header.setMod('theme', this.state.theme);
        this.panel.setMod('theme', this.state.theme);
        this.options.theme = this.state.theme;
    };
    FileBrowserPro.prototype.onToggleSettings = function () {
        this.state.showSettings = !this.state.showSettings;
    };
    FileBrowserPro.prototype.prepareOpening = function (callback) {
        var _this = this;
        this.registerGlobalListeners();
        if (callback) {
            this.state.onSelectCallBack = function (data) {
                _this.close();
                callback(data);
            };
        }
        this.persistent.syncWithState();
    };
    FileBrowserPro.prototype.registerGlobalListeners = function () {
        this.e.on(this.ow, 'keydown', this.onKeyPress);
    };
    FileBrowserPro.prototype.onKeyPress = function (e) {
        var activeElement = this.od.activeElement;
        if (!this.state.activeElements.length ||
            !activeElement ||
            !modules_1.Dom.isOrContains(this.panel.items.container, activeElement)) {
            return;
        }
        var elms = this.state.elements;
        switch (e.key) {
            case constants_1.KEY_ENTER: {
                return this.onChooseItems();
            }
            case constants_1.KEY_DELETE: {
                return this.onFileRemove();
            }
            case constants_1.KEY_RIGHT:
            case constants_1.KEY_LEFT:
            case constants_1.KEY_DOWN:
            case constants_1.KEY_UP: {
                var next = e.key === constants_1.KEY_RIGHT || e.key === constants_1.KEY_DOWN, index = this.state.lastSelectedIndex;
                var nextIndex = void 0;
                if ([constants_1.KEY_RIGHT, constants_1.KEY_LEFT].includes(e.key)) {
                    if (next) {
                        nextIndex = !elms[index + 1] ? 0 : index + 1;
                    }
                    else {
                        nextIndex = !elms[index - 1]
                            ? elms.length - 1
                            : index - 1;
                    }
                }
                else {
                    var countInRow = this.panel.countInRow;
                    nextIndex = Math.round(((index + 1) / countInRow + (next ? 1 : -1)) *
                        countInRow -
                        1);
                }
                elms[nextIndex] &&
                    this.stateManager.addActive(elms[nextIndex], e.shiftKey);
                return false;
            }
        }
    };
    FileBrowserPro.prototype.removeGlobalListeners = function () {
        this.e.off(this.ow, 'keydown', this.onKeyPress);
    };
    FileBrowserPro.prototype.onFileRemove = function () {
        var _this = this;
        if (this.state.activeElements.length) {
            this.confirm('Are you sure?', '', function (yes) {
                if (yes) {
                    var promises_1 = [];
                    _this.state.activeElements.forEach(function (item) {
                        if (_this.stateManager.isFavorite(item)) {
                            _this.stateManager.toggleFavorite(item);
                        }
                        promises_1.push(_this.deleteFile(item.file || item.name || '', item.sourceName));
                    });
                    _this.state.activeElements = [];
                    Promise.all(promises_1).then(function () {
                        _this.loadingManager.loadItems();
                    });
                }
            }).bindDestruct(this);
        }
    };
    FileBrowserPro.prototype.onFileEdit = function () {
        if (this.state.activeElements.length === 1) {
            var _a = tslib_1.__read(this.state.activeElements, 1), file = _a[0];
            image_editor_1.openImageEditor.call(this, file.fileURL, file.file || '', file.path, file.sourceName, undefined, this.status);
        }
    };
    FileBrowserPro.prototype.onFolderRename = function (data) {
        var _this = this;
        this.prompt('Enter new name', 'Rename', function (newName) {
            if (!(0, helpers_1.isValidName)(newName) || newName === data.name) {
                _this.status(_this.i18n('Enter new name'));
                return false;
            }
            _this.dataProvider
                .folderRename((0, helpers_2.parentPath)(data.path), data.name, newName, data.sourceName)
                .then(function (message) {
                _this.state.activeElements = [];
                _this.status(message, true);
                _this.state.currentPath =
                    (0, helpers_2.parentPath)(data.path) + '/' + newName;
                _this.state.currentSource = data.sourceName;
                _this.historyManager.updateCurrent();
                _this.loadingManager.loadFolders();
            })
                .catch(_this.status);
            return;
        }, this.i18n('type name'), data.name).bindDestruct(this);
    };
    FileBrowserPro.prototype.onFolderRemove = function (data) {
        var _this = this;
        this.confirm('Are you sure?', 'Delete', function (yes) {
            if (yes) {
                _this.dataProvider
                    .folderRemove((0, helpers_2.parentPath)(data.path), data.name, data.sourceName)
                    .then(function (message) {
                    _this.status(message, true);
                    _this.state.currentPath = (0, helpers_2.parentPath)(data.path);
                    _this.state.currentSource = data.sourceName;
                    _this.loadingManager.loadFolders();
                })
                    .catch(_this.status);
            }
        }).bindDestruct(this);
    };
    FileBrowserPro.prototype.onFolderCreate = function (data) {
        var _this = this;
        this.prompt('Enter Directory name', 'Create directory', function (name) {
            var path = data.path || '/';
            _this.dataProvider
                .createFolder(name, data.path || '/', data.sourceName)
                .then(function () {
                if (_this.state.currentSource === data.sourceName &&
                    _this.state.currentPath === path) {
                    _this.e.fire('update.filebrowser');
                }
                else {
                    _this.state.currentSource = data.sourceName;
                    _this.state.currentPath = path;
                }
                _this.historyManager.updateCurrent();
            }, _this.status);
        }, this.i18n('type name')).bindDestruct(this);
    };
    FileBrowserPro.prototype.onFileRename = function (item) {
        var _this = this;
        var name = item.file || item.name || '';
        if (this.state.activeElements.length === 1 && name) {
            this.prompt('Enter new name', 'Rename', function (newName) {
                if (!(0, helpers_1.isValidName)(newName)) {
                    _this.status(_this.i18n('Enter new name'));
                    return false;
                }
                _this.dataProvider
                    .fileRename(_this.state.currentPath, name, newName, _this.state.currentSource)
                    .then(function (message) {
                    _this.state.activeElements = [];
                    _this.status(message, true);
                    _this.loadingManager.loadItems();
                })
                    .catch(_this.status);
                return;
            }, this.i18n('type name'), name).bindDestruct(this);
        }
    };
    FileBrowserPro.prototype.onChooseItems = function () {
        var act = this.stateManager.state.activeElements;
        if (act.length) {
            if (act[0].type === 'folder') {
                this.state.currentPath =
                    this.state.currentPath + '/' + act[0].name;
                this.state.currentSource = act[0].sourceName;
                this.e.fire('afterOpenFolder.filebrowser');
                return;
            }
            if (this.state.onSelectCallBack) {
                this.stateManager.callSelectHandler();
            }
            else {
                this.onOpenLightBox(act[0]);
            }
        }
    };
    FileBrowserPro.prototype.onOpenLightBox = function (item) {
        lightbox_1.UILightBox.open(this, item, this.state.elements);
    };
    FileBrowserPro.prototype.deleteFile = function (name, source) {
        var _this = this;
        return this.dataProvider
            .fileRemove(this.state.currentPath, name, source)
            .then(function (message) {
            _this.status(message || _this.i18n('File "%s" was deleted', name), true);
        })
            .catch(this.status);
    };
    FileBrowserPro.prototype.initUploader = function () {
        var _this = this;
        var self = this, uploaderOptions = (0, helpers_1.ConfigProto)(self.o.uploader || {}, config_1.Config.defaultOptions.uploader);
        var uploadHandler = function () {
            return _this.loadingManager.loadItems();
        };
        self.uploader = self.getInstance('Uploader', uploaderOptions);
        self.uploader.bind(self.panel.container, uploadHandler, self.status);
        self.e.on('bindUploader.filebrowser', function (button) {
            self.uploader.bind(button, uploadHandler, self.status);
        });
    };
    FileBrowserPro.prototype.destruct = function () {
        this.removeGlobalListeners();
        this.header.destruct();
        this.panel.destruct();
        _super.prototype.destruct.call(this);
    };
    FileBrowserPro.prototype.fullFillOptions = function () {
        var _this = this;
        var keys = [
            'getLocalFileByUrl',
            'crop',
            'resize',
            'create',
            'fileMove',
            'folderMove',
            'fileRename',
            'folderRename',
            'fileRemove',
            'folderRemove',
            'folder',
            'items',
            'permissions'
        ];
        keys.forEach(function (key) {
            if (_this.options[key] != null) {
                _this.options[key] = (0, helpers_1.ConfigProto)(_this.options[key], _this.o.ajax);
            }
        });
    };
    tslib_1.__decorate([
        decorators_1.autobind
    ], FileBrowserPro.prototype, "status", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':resize', window)
    ], FileBrowserPro.prototype, "onResizeWindow", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['state.currentPath', 'state.currentSource'])
    ], FileBrowserPro.prototype, "onChangePath", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.theme')
    ], FileBrowserPro.prototype, "onChangeTheme", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':toggleSettings.filebrowser')
    ], FileBrowserPro.prototype, "onToggleSettings", null);
    tslib_1.__decorate([
        decorators_1.autobind
    ], FileBrowserPro.prototype, "onKeyPress", null);
    tslib_1.__decorate([
        decorators_1.autobind
    ], FileBrowserPro.prototype, "removeGlobalListeners", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':fileRemove.filebrowser')
    ], FileBrowserPro.prototype, "onFileRemove", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':edit.filebrowser')
    ], FileBrowserPro.prototype, "onFileEdit", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':folderRename.filebrowser')
    ], FileBrowserPro.prototype, "onFolderRename", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':folderRemove.filebrowser')
    ], FileBrowserPro.prototype, "onFolderRemove", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':folderCreate.filebrowser')
    ], FileBrowserPro.prototype, "onFolderCreate", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':fileRename.filebrowser')
    ], FileBrowserPro.prototype, "onFileRename", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':select.filebrowser')
    ], FileBrowserPro.prototype, "onChooseItems", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':openLightBox.filebrowser')
    ], FileBrowserPro.prototype, "onOpenLightBox", null);
    FileBrowserPro = tslib_1.__decorate([
        decorators_1.component,
        (0, decorators_1.derive)(traits_1.Dlgs)
    ], FileBrowserPro);
    return FileBrowserPro;
}(dialog_1.Dialog));
exports.FileBrowserPro = FileBrowserPro;
Object.defineProperty(index_1.Jodit.modules, 'FileBrowserPro', {
    value: FileBrowserPro,
    writable: false,
    enumerable: true,
    configurable: true
});


/***/ }),

/***/ 12202:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var config_1 = __webpack_require__(27537);
var global_1 = __webpack_require__(58299);
(0, global_1.extendLang)(__webpack_require__(60561));
var fb = config_1.Config.prototype.controls.filebrowser;
fb.settings = {
    icon: 'settings',
    tooltip: 'Settings',
    exec: function (editor) {
        var _a;
        var view = (_a = editor.parent) !== null && _a !== void 0 ? _a : editor;
        view.e.fire('toggleSettings.filebrowser');
    }
};
fb.home = {
    icon: 'home',
    tooltip: 'Home',
    exec: function (editor) {
        editor.e.fire('goHome.filebrowser');
    }
};
fb.preview = {
    icon: 'eye',
    tooltip: 'Preview',
    isDisabled: function (fb) {
        return fb.state.activeElements.length === 0;
    },
    exec: function (editor) {
        editor.e.fire('togglePreview.filebrowser');
    }
};
fb.next = {
    icon: 'angle-right',
    tooltip: 'History next',
    isDisabled: function (browser) { return !browser.historyManager.canNext(); },
    exec: function (editor) {
        editor.historyManager.next();
    }
};
fb.previous = {
    icon: 'angle-left',
    tooltip: 'History previous',
    isDisabled: function (browser) { return !browser.historyManager.canPrevious(); },
    exec: function (editor) {
        editor.historyManager.previous();
    }
};
fb['new-folder'] = {
    icon: 'new-folder',
    exec: function (editor) {
        editor.e.fire('folderCreate.filebrowser', {
            path: editor.state.currentPath,
            sourceName: editor.state.currentSource
        });
    },
    tooltip: 'New folder'
};
Object.assign(config_1.Config.prototype.filebrowser, {
    buttons: [
        'filebrowser.home',
        'filebrowser.previous',
        'filebrowser.next',
        '|',
        'filebrowser.upload',
        'filebrowser.new-folder',
        'filebrowser.remove',
        'filebrowser.update',
        'filebrowser.select',
        'filebrowser.edit',
        '|',
        'filebrowser.preview',
        'about'
    ],
    sort: false,
    pixelOffsetLoadNewChunk: 200,
    width: 780,
    height: 400,
    previewOfficeURL: 'https://view.officeapps.live.com/op/view.aspx?src='
});


/***/ }),

/***/ 134:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.finder = void 0;
var tslib_1 = __webpack_require__(20255);
var plugin_1 = __webpack_require__(35570);
var browser_1 = __webpack_require__(32493);
var index_1 = __webpack_require__(78460);
__webpack_require__(12202);
var finder = (function (_super) {
    tslib_1.__extends(finder, _super);
    function finder() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.requires = ['license'];
        _this.hasStyle = !index_1.Jodit.fatMode;
        return _this;
    }
    finder.prototype.afterInit = function (jodit) {
        var _this = this;
        jodit.e.on('getInstanceFileBrowser', function (options) {
            if (!_this.__instance) {
                _this.__instance = new browser_1.FileBrowserPro(options);
            }
            return _this.__instance;
        });
    };
    finder.prototype.beforeDestruct = function (jodit) {
        var _a;
        jodit.e.off('getInstanceFileBrowser');
        (_a = this.__instance) === null || _a === void 0 ? void 0 : _a.destruct();
    };
    return finder;
}(plugin_1.Plugin));
exports.finder = finder;
index_1.Jodit.plugins.add('finder', finder);


/***/ }),

/***/ 36010:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContextMenuManager = void 0;
var tslib_1 = __webpack_require__(20255);
var factories_1 = __webpack_require__(43708);
var component_1 = __webpack_require__(34543);
var decorators_1 = __webpack_require__(9901);
var ContextMenuManager = (function (_super) {
    tslib_1.__extends(ContextMenuManager, _super);
    function ContextMenuManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ContextMenuManager.prototype.className = function () {
        return 'ContextMenuManager';
    };
    ContextMenuManager.prototype.onFolderContext = function (item, e) {
        this.buildContextItemMenu(this.getFolderContextActions(item), e);
        return false;
    };
    ContextMenuManager.prototype.onItemContext = function (item, _, e) {
        this.buildContextItemMenu(this.getItemContextActions(item), e);
        return false;
    };
    ContextMenuManager.prototype.onSourceContext = function (item, e) {
        this.buildContextItemMenu(this.getSourceContextActions(item), e);
        return false;
    };
    ContextMenuManager.prototype.buildContextItemMenu = function (actions, e) {
        if (!this.j.o.contextMenu) {
            return;
        }
        var context = (0, factories_1.makeContextMenu)(this.j).setMod('theme', this.j.state.theme);
        context.show(e.clientX, e.clientY, actions.filter(function (a) { return a && a.enabled !== false; }));
        this.j.e.on(this.j, 'afterClose', function () {
            if (context.isOpened) {
                context.close();
            }
        });
    };
    ContextMenuManager.prototype.getItemContextActions = function (item) {
        var _this = this;
        if (!this.j.stateManager.isActive(item)) {
            this.j.stateManager.addActive(item, this.j.state.activeElements.length > 1);
        }
        if (item.type === 'folder') {
            return this.getFolderContextActions({
                type: 'directory',
                children: [],
                name: item.name || '',
                path: item.path,
                sourceName: item.sourceName
            });
        }
        var opt = this.j.options, dp = this.j.dataProvider, single = this.j.state.activeElements.length === 1;
        return [
            {
                icon: 'pencil',
                title: 'Edit',
                enabled: Boolean(item.isImage) &&
                    opt.editImage &&
                    single &&
                    (dp.canI('ImageResize') || dp.canI('ImageCrop')),
                exec: function () {
                    _this.j.e.fire('edit.filebrowser');
                }
            },
            {
                icon: 'italic',
                title: 'Rename',
                enabled: dp.canI('FileRename') && single,
                exec: function () { return _this.j.e.fire('fileRename.filebrowser', item); }
            },
            {
                icon: 'bin',
                title: 'Delete',
                enabled: dp.canI('FileRemove'),
                exec: function () { return _this.j.e.fire('fileRemove.filebrowser', item); }
            },
            {
                icon: 'eye',
                title: 'Preview',
                enabled: Boolean(item.isImage || item.type === 'file') &&
                    opt.preview &&
                    single,
                exec: function () { return _this.j.e.fire('openLightBox.filebrowser', item); }
            },
            {
                icon: 'upload',
                title: 'Download',
                exec: function () {
                    if (item.fileURL) {
                        _this.j.ow.open(item.fileURL);
                    }
                }
            }
        ];
    };
    ContextMenuManager.prototype.getFolderContextActions = function (item) {
        var _this = this;
        var dp = this.j.dataProvider;
        return [
            {
                icon: 'pencil',
                title: 'Rename',
                exec: function () {
                    _this.j.e.fire('folderRename.filebrowser', item);
                },
                enabled: dp.canI('FolderRename')
            },
            {
                icon: 'bin',
                title: 'Delete',
                exec: function () {
                    _this.j.e.fire('folderRemove.filebrowser', item);
                },
                enabled: dp.canI('FolderRemove')
            },
            {
                icon: 'plus',
                title: 'Add folder',
                exec: function () {
                    _this.j.e.fire('folderCreate.filebrowser', item);
                },
                enabled: dp.canI('FolderCreate')
            }
        ];
    };
    ContextMenuManager.prototype.getSourceContextActions = function (item) {
        var _this = this;
        return [
            {
                icon: 'plus',
                title: 'Create folder',
                exec: function () {
                    _this.j.e.fire('folderCreate.filebrowser', item);
                }
            }
        ];
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)(':contextmenuFolder.filebrowser')
    ], ContextMenuManager.prototype, "onFolderContext", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':contextmenuItem.filebrowser')
    ], ContextMenuManager.prototype, "onItemContext", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':contextmenuSource.filebrowser')
    ], ContextMenuManager.prototype, "onSourceContext", null);
    ContextMenuManager = tslib_1.__decorate([
        decorators_1.component
    ], ContextMenuManager);
    return ContextMenuManager;
}(component_1.ViewComponent));
exports.ContextMenuManager = ContextMenuManager;


/***/ }),

/***/ 6331:
/***/ (function(__unused_webpack_module, exports) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parentPath = void 0;
var parentPath = function (path) {
    var parts = path.split('/').filter(function (p) { return p.length; });
    parts.pop();
    return parts.join('/') || '/';
};
exports.parentPath = parentPath;


/***/ }),

/***/ 67337:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HistoryManager = void 0;
var tslib_1 = __webpack_require__(20255);
var helpers_1 = __webpack_require__(92654);
var component_1 = __webpack_require__(34543);
var decorators_1 = __webpack_require__(9901);
var HistoryManager = (function (_super) {
    tslib_1.__extends(HistoryManager, _super);
    function HistoryManager(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        _this.history = [];
        _this.historyIndex = 0;
        return _this;
    }
    HistoryManager.prototype.className = function () {
        return 'HistoryManager';
    };
    HistoryManager.prototype.canNext = function () {
        return this.historyIndex < this.history.length - 1;
    };
    HistoryManager.prototype.canPrevious = function () {
        return this.historyIndex > 0;
    };
    HistoryManager.prototype.push = function (item) {
        var historyIndex = this.historyIndex;
        var current = this.history[historyIndex];
        if (current &&
            current.currentSource === item.currentSource &&
            current.currentPath === item.currentPath) {
            return;
        }
        var history = tslib_1.__spreadArray([], tslib_1.__read(this.history), false);
        if (history.length - 1 !== historyIndex) {
            history = history.slice(0, historyIndex + 1);
        }
        history.push(item);
        if (current) {
            historyIndex += 1;
        }
        this.history = history;
        this.historyIndex = historyIndex;
    };
    HistoryManager.prototype.next = function () {
        if (this.canNext()) {
            this.historyIndex += 1;
            this.updateState();
        }
    };
    HistoryManager.prototype.previous = function () {
        if (this.canPrevious()) {
            this.historyIndex -= 1;
            this.updateState();
        }
    };
    HistoryManager.prototype.updateCurrent = function () {
        this.history[this.historyIndex] = {
            currentSource: this.state.currentSource,
            currentPath: this.state.currentPath,
            tree: (0, helpers_1.fastClone)(this.state.tree),
            elements: tslib_1.__spreadArray([], tslib_1.__read(this.state.elements), false)
        };
    };
    HistoryManager.prototype.onHome = function () {
        this.state.currentPath = '';
        this.state.currentSource = '';
        this.j.e.fire('afterOpenFolder.filebrowser update.filebrowser');
    };
    HistoryManager.prototype.onOpenFolder = function () {
        this.push({
            tree: [],
            elements: [],
            currentPath: this.state.currentPath,
            currentSource: this.state.currentSource
        });
        this.j.e.fire('changeSelection');
    };
    HistoryManager.prototype.updateState = function () {
        var _a = this.history[this.historyIndex], tree = _a.tree, elements = _a.elements, currentSource = _a.currentSource, currentPath = _a.currentPath;
        this.state.activeElements = [];
        this.state.elements = tslib_1.__spreadArray([], tslib_1.__read(elements), false);
        this.state.tree = tslib_1.__spreadArray([], tslib_1.__read(tree), false);
        this.state.currentSource = currentSource;
        this.state.currentPath = currentPath;
        this.j.e.fire('changeSelection');
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)(['state.elements', 'state.tree'])
    ], HistoryManager.prototype, "updateCurrent", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':goHome.filebrowser')
    ], HistoryManager.prototype, "onHome", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':afterOpenFolder.filebrowser')
    ], HistoryManager.prototype, "onOpenFolder", null);
    HistoryManager = tslib_1.__decorate([
        decorators_1.component
    ], HistoryManager);
    return HistoryManager;
}(component_1.ViewComponent));
exports.HistoryManager = HistoryManager;


/***/ }),

/***/ 99666:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LoadingManager = void 0;
var tslib_1 = __webpack_require__(20255);
var component_1 = __webpack_require__(34543);
var decorators_1 = __webpack_require__(9901);
var LoadingManager = (function (_super) {
    tslib_1.__extends(LoadingManager, _super);
    function LoadingManager(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        _this.offset = 0;
        _this.countInOneChunk = 20;
        _this.stopLoadingParts = false;
        _this.__isLoadingPart = false;
        _this.__callQueueCount = 0;
        return _this;
    }
    LoadingManager.prototype.className = function () {
        return 'LoadingManager';
    };
    LoadingManager.prototype.onUpdateFileBrowser = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.j.state.activeElements = [];
                        this.j.panel.setMod('loading', true);
                        return [4, Promise.all([this.loadFolders(), this.loadItems()])];
                    case 1:
                        _a.sent();
                        this.j.panel.setMod('loading', false);
                        return [2];
                }
            });
        });
    };
    LoadingManager.prototype.loadFolders = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a, currentPath, currentSource, sources, e_1;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.j.isOpened) {
                            return [2];
                        }
                        _a = this.j.state, currentPath = _a.currentPath, currentSource = _a.currentSource;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4, this.j.dataProvider.tree(currentPath, currentSource)];
                    case 2:
                        sources = _b.sent();
                        this.j.stateManager.fillSources(sources, currentPath);
                        this.j.state.sources = sources;
                        return [3, 4];
                    case 3:
                        e_1 = _b.sent();
                        this.j.status(e_1);
                        return [3, 4];
                    case 4: return [2];
                }
            });
        });
    };
    LoadingManager.prototype.loadItems = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a, e_2;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.j.isOpened) {
                            return [2];
                        }
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 6, , 7]);
                        this.offset = 0;
                        this.stopLoadingParts = false;
                        this.__callQueueCount = 0;
                        _a = this.j.state;
                        return [4, this.loadPartItems()];
                    case 2:
                        _a.elements = _b.sent();
                        this.stopLoadingParts =
                            this.j.state.elements.length < this.countInOneChunk;
                        _b.label = 3;
                    case 3:
                        if (!(!this.stopLoadingParts &&
                            this.j.panel.countInColumn * this.j.panel.countInRow >=
                                this.j.state.elements.length)) return [3, 5];
                        return [4, this.loadItemsChunk()];
                    case 4:
                        _b.sent();
                        return [3, 3];
                    case 5: return [3, 7];
                    case 6:
                        e_2 = _b.sent();
                        this.j.status(e_2);
                        return [3, 7];
                    case 7: return [2];
                }
            });
        });
    };
    LoadingManager.prototype.__loadItemsChunk = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var elementsPart, e_3;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.__isLoadingPart) {
                            this.__callQueueCount += 1;
                            return [2];
                        }
                        if (this.stopLoadingParts) {
                            this.__callQueueCount = 0;
                            return [2];
                        }
                        this.__isLoadingPart = true;
                        this.j.panel.items.setMod('chunk-loading', true);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        this.offset += this.countInOneChunk;
                        return [4, this.loadPartItems()];
                    case 2:
                        elementsPart = _a.sent();
                        this.stopLoadingParts = elementsPart.length < this.countInOneChunk;
                        if (elementsPart.length) {
                            this.j.state.elements =
                                this.j.state.elements.concat(elementsPart);
                        }
                        return [3, 4];
                    case 3:
                        e_3 = _a.sent();
                        this.j.status(e_3);
                        return [3, 4];
                    case 4:
                        this.j.panel.items.setMod('chunk-loading', false);
                        this.__isLoadingPart = false;
                        if (this.__callQueueCount > 0) {
                            this.__callQueueCount -= 1;
                            return [2, this.__loadItemsChunk()];
                        }
                        return [2];
                }
            });
        });
    };
    LoadingManager.prototype.loadItemsChunk = function () {
        return this.__loadItemsChunk();
    };
    LoadingManager.prototype.loadPartItems = function () {
        var _a = this.j.state, currentPath = _a.currentPath, currentSource = _a.currentSource, sortBy = _a.sortBy, withFolders = _a.withFolders, foldersPosition = _a.foldersPosition, onlyImages = _a.onlyImages, filterWord = _a.filterWord;
        return this.j.dataProvider.items(currentPath, currentSource, {
            offset: this.offset,
            limit: this.countInOneChunk,
            sortBy: sortBy,
            withFolders: withFolders,
            foldersPosition: foldersPosition,
            onlyImages: onlyImages,
            filterWord: filterWord
        });
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)(':update.filebrowser')
    ], LoadingManager.prototype, "onUpdateFileBrowser", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['state.currentPath', 'state.currentSource']),
        (0, decorators_1.debounce)(function (ctx) { return ({
            timeout: ctx.defaultTimeout,
            promisify: true
        }); })
    ], LoadingManager.prototype, "loadFolders", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)([
            'state.currentPath',
            'state.currentSource',
            'state.sortBy',
            'state.onlyImages',
            'state.foldersPosition',
            'state.filterWord'
        ]),
        (0, decorators_1.debounce)(function (ctx) { return ({
            timeout: ctx.defaultTimeout,
            promisify: true
        }); })
    ], LoadingManager.prototype, "loadItems", null);
    tslib_1.__decorate([
        (0, decorators_1.debounce)(function (ctx) { return ({
            timeout: ctx.defaultTimeout,
            promisify: true
        }); })
    ], LoadingManager.prototype, "loadItemsChunk", null);
    LoadingManager = tslib_1.__decorate([
        decorators_1.component
    ], LoadingManager);
    return LoadingManager;
}(component_1.ViewComponent));
exports.LoadingManager = LoadingManager;


/***/ }),

/***/ 23807:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PersistentStore = void 0;
var tslib_1 = __webpack_require__(20255);
var component_1 = __webpack_require__(34543);
var decorators_1 = __webpack_require__(9901);
var item_1 = __webpack_require__(47713);
var PersistentStore = (function (_super) {
    tslib_1.__extends(PersistentStore, _super);
    function PersistentStore(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        _this.sortBy = 'changed-desc';
        _this.view = 'tiles';
        _this.foldersPosition = 'top';
        _this.tileSize = 'default';
        _this.favorites = [];
        _this.showSideBar = true;
        _this.showPreview = false;
        _this.showFavorites = true;
        return _this;
    }
    PersistentStore.prototype.className = function () {
        return 'PersistentStore';
    };
    PersistentStore.prototype.onChangeThemeSetField = function () {
        this.theme = this.state.theme;
    };
    PersistentStore.prototype.onChangeView = function () {
        this.view = this.state.view;
    };
    PersistentStore.prototype.onChangeSortBy = function () {
        this.sortBy = this.state.sortBy;
    };
    PersistentStore.prototype.onChangeTileSize = function () {
        this.tileSize = this.state.tileSize;
    };
    PersistentStore.prototype.onChangeFavorites = function () {
        this.favorites = this.state.favorites;
    };
    PersistentStore.prototype.onChangeShowSideBar = function () {
        this.showSideBar = this.state.showSideBar;
    };
    PersistentStore.prototype.onChangeShowPreview = function () {
        this.showPreview = this.state.showPreview;
    };
    PersistentStore.prototype.onChangeShowFavorites = function () {
        this.showFavorites = this.state.showFavorites;
    };
    PersistentStore.prototype.onChangeFoldersPosition = function () {
        this.foldersPosition = this.state.foldersPosition;
    };
    PersistentStore.prototype.syncWithState = function () {
        this.state.tileSize = this.tileSize;
        this.state.favorites = this.favorites.map(function (item) {
            if (item instanceof item_1.FileBrowserItem) {
                return item;
            }
            return item_1.FileBrowserItem.create(item);
        });
        this.state.view = this.view;
        this.state.theme = this.theme;
        this.state.showSideBar = this.showSideBar;
        this.state.showPreview = this.showPreview;
        this.state.showFavorites = this.showFavorites;
        this.state.sortBy = this.sortBy;
        this.state.foldersPosition = this.foldersPosition;
    };
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "theme", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "sortBy", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "view", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "foldersPosition", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "tileSize", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "favorites", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "showSideBar", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "showPreview", void 0);
    tslib_1.__decorate([
        decorators_1.persistent
    ], PersistentStore.prototype, "showFavorites", void 0);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.theme')
    ], PersistentStore.prototype, "onChangeThemeSetField", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.view')
    ], PersistentStore.prototype, "onChangeView", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.sortBy')
    ], PersistentStore.prototype, "onChangeSortBy", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.tileSize')
    ], PersistentStore.prototype, "onChangeTileSize", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.favorites')
    ], PersistentStore.prototype, "onChangeFavorites", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showSideBar')
    ], PersistentStore.prototype, "onChangeShowSideBar", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showPreview')
    ], PersistentStore.prototype, "onChangeShowPreview", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showFavorites')
    ], PersistentStore.prototype, "onChangeShowFavorites", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.foldersPosition')
    ], PersistentStore.prototype, "onChangeFoldersPosition", null);
    PersistentStore = tslib_1.__decorate([
        decorators_1.component
    ], PersistentStore);
    return PersistentStore;
}(component_1.ViewComponent));
exports.PersistentStore = PersistentStore;


/***/ }),

/***/ 72607:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StateManager = void 0;
var tslib_1 = __webpack_require__(20255);
var decorators_1 = __webpack_require__(9901);
var StateManager = (function () {
    function StateManager(state) {
        this.state = state;
    }
    StateManager.prototype.getIndex = function (elm, elms) {
        if (elms === void 0) { elms = this.state.elements; }
        return elms.findIndex(function (item) { return item.uniqueHashKey === elm.uniqueHashKey; });
    };
    StateManager.prototype.isActive = function (item) {
        return Boolean(this.state.activeElements.find(function (data) { return data.uniqueHashKey === item.uniqueHashKey; }));
    };
    StateManager.prototype.isFavorite = function (item) {
        return Boolean(this.state.favorites.find(function (data) { return data.uniqueHashKey === item.uniqueHashKey; }));
    };
    StateManager.prototype.addActive = function (item, multi) {
        var _a;
        this.state.metaInfo = item;
        this.state.info = (_a = item.file) !== null && _a !== void 0 ? _a : '';
        this.state.lastSelectedIndex = this.getIndex(item);
        this.state.activeElements = multi
            ? tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(this.state.activeElements), false), [item], false) : [item];
    };
    StateManager.prototype.callSelectHandler = function () {
        var _a;
        var act = this.state.activeElements;
        (_a = this.state.onSelectCallBack) === null || _a === void 0 ? void 0 : _a.call(this, {
            baseurl: '',
            files: act.map(function (data) { return data.fileURL; }),
            isImages: act.map(function (data) { return Boolean(data.isImage); })
        });
    };
    StateManager.prototype.setFilter = function (value) {
        this.state.filterWord = value;
    };
    StateManager.prototype.addMessage = function (item) {
        var _a;
        var msgs = this.state.messages;
        if (((_a = msgs[msgs.length - 1]) === null || _a === void 0 ? void 0 : _a.message) !== item.message) {
            this.state.messages = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(msgs), false), [item], false);
        }
    };
    StateManager.prototype.removeMessage = function (item) {
        var index = this.state.messages.indexOf(item);
        if (index !== -1) {
            var messages = tslib_1.__spreadArray([], tslib_1.__read(this.state.messages), false);
            messages.splice(index, 1);
            this.state.messages = messages;
        }
    };
    StateManager.prototype.toggleFavorite = function (item) {
        var favoriteIndex = this.getIndex(item, this.state.favorites);
        var favorites = tslib_1.__spreadArray([], tslib_1.__read(this.state.favorites), false);
        if (favoriteIndex === -1) {
            favorites.push(item);
        }
        else {
            favorites.splice(favoriteIndex, 1);
        }
        this.state.favorites = favorites;
    };
    StateManager.prototype.fillSources = function (sources, path) {
        var _this = this;
        var filterFolders = function (folders) {
            return folders.filter(function (folder) { return folder !== '.' && folder !== '..'; });
        };
        if (!this.state.tree.length || !path) {
            this.state.tree = sources.map(function (source) {
                return ({
                    type: 'source',
                    name: source.name,
                    title: source.title,
                    sourceName: source.name,
                    path: '/',
                    children: filterFolders(source.folders).map(function (folder) { return ({
                        type: 'directory',
                        name: folder,
                        path: folder,
                        sourceName: source.name,
                        children: []
                    }); })
                });
            });
        }
        else {
            var findItem_1 = function (children, name) { var _a; return (_a = children.find(function (item) { return item.name === name; })) !== null && _a !== void 0 ? _a : null; };
            this.removeActive(this.state.tree);
            sources.forEach(function (source) {
                var sourceItem = findItem_1(_this.state.tree, source.name);
                if (sourceItem) {
                    sourceItem.isActive = true;
                    var resultItem = path
                        .split('/')
                        .reduce(function (item, part) {
                        return item && findItem_1(item.children, part);
                    }, sourceItem);
                    if (resultItem) {
                        resultItem.isActive = true;
                        resultItem.children = filterFolders(source.folders).map(function (folder) { return ({
                            type: 'directory',
                            name: folder,
                            path: path + '/' + folder,
                            sourceName: source.name,
                            children: []
                        }); });
                    }
                }
            });
        }
    };
    StateManager.prototype.removeActive = function (tree) {
        var _this = this;
        tree.forEach(function (item) {
            item.isActive = false;
            _this.removeActive(item.children);
        });
    };
    Object.defineProperty(StateManager.prototype, "isFavoriteItems", {
        get: function () {
            return this.state.favorites === this.state.elements;
        },
        enumerable: false,
        configurable: true
    });
    tslib_1.__decorate([
        decorators_1.autobind
    ], StateManager.prototype, "getIndex", null);
    tslib_1.__decorate([
        decorators_1.autobind
    ], StateManager.prototype, "isActive", null);
    tslib_1.__decorate([
        decorators_1.autobind
    ], StateManager.prototype, "isFavorite", null);
    return StateManager;
}());
exports.StateManager = StateManager;


/***/ }),

/***/ 60561:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ru = void 0;
var ru = __webpack_require__(99425);
exports.ru = ru;


/***/ }),

/***/ 89727:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ui_1 = __webpack_require__(14153);
var heart = __webpack_require__(18404);
var home = __webpack_require__(13178);
var newFolder = __webpack_require__(31189);
ui_1.Icon.set('heart', String(heart));
ui_1.Icon.set('home', String(home));
ui_1.Icon.set('new-folder', String(newFolder));


/***/ }),

/***/ 50678:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserFolder = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(76111);
var ui_1 = __webpack_require__(14153);
var index_1 = __webpack_require__(9901);
var helpers_1 = __webpack_require__(92654);
var UIBrowserFolder = (function (_super) {
    tslib_1.__extends(UIBrowserFolder, _super);
    function UIBrowserFolder(jodit, item) {
        var _this = _super.call(this, jodit) || this;
        _this.item = item;
        _this.syncMod = true;
        var name = _this.getElm('name');
        (0, helpers_1.assert)(name != null, 'name element does not exists');
        name.innerText = item.name;
        jodit.e
            .on(_this.container, 'click', function () {
            if (!_this.getMod('active')) {
                _this.setMod('loading', true);
            }
            return jodit.e.fire('openFolder', item);
        })
            .on(_this.container, 'contextmenu', function (e) {
            return jodit.e.fire('contextmenuFolder.filebrowser', item, e);
        });
        return _this;
    }
    UIBrowserFolder.prototype.className = function () {
        return 'UIBrowserFolder';
    };
    UIBrowserFolder.prototype.render = function () {
        return "<div>\n\t\t\t<div class=\"&__icon\">\n\t\t\t\t<div class='&__loader'></div>\n\t\t\t\t<div class=\"&__icon-wrapper\">\n\t\t\t\t\t*folder*\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"&__name\"></div>\n\t\t\t<div class=\"&__arrow\">*angle-right*</div>\n\t\t</div>";
    };
    UIBrowserFolder = tslib_1.__decorate([
        index_1.component
    ], UIBrowserFolder);
    return UIBrowserFolder;
}(ui_1.UIElement));
exports.UIBrowserFolder = UIBrowserFolder;


/***/ }),

/***/ 32474:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserHeader = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(17601);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var factory_1 = __webpack_require__(42701);
var UIBrowserHeader = (function (_super) {
    tslib_1.__extends(UIBrowserHeader, _super);
    function UIBrowserHeader(jodit, options, stateManager) {
        var _this = this;
        var _a;
        _this = _super.call(this, jodit) || this;
        _this.options = options;
        _this.stateManager = stateManager;
        _this.syncMod = true;
        _this.toolbar = (0, factory_1.makeCollection)(_this.j);
        _this.filter = new ui_1.UIInput(_this.j, {
            icon: 'search',
            placeholder: 'Filter',
            clearButton: true,
            onChange: function (value) {
                _this.stateManager.setFilter(value);
            }
        });
        _this.append(_this.toolbar).append(_this.filter);
        _this.filter.container.classList.add(_this.getFullElName('filter'));
        _this.toolbar
            .setMod('mode', 'header')
            .build((_a = _this.options.toolbarButtons) !== null && _a !== void 0 ? _a : []);
        return _this;
    }
    UIBrowserHeader.prototype.className = function () {
        return 'UIBrowserHeader';
    };
    UIBrowserHeader = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserHeader);
    return UIBrowserHeader;
}(ui_1.UIGroup));
exports.UIBrowserHeader = UIBrowserHeader;


/***/ }),

/***/ 12157:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserItem = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(21626);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var item_1 = __webpack_require__(47713);
var modules_1 = __webpack_require__(46701);
var helpers_1 = __webpack_require__(92654);
var helpers_2 = __webpack_require__(92654);
var UIBrowserItem = (function (_super) {
    tslib_1.__extends(UIBrowserItem, _super);
    function UIBrowserItem(jodit, item) {
        var _this = _super.call(this, jodit) || this;
        _this.item = item_1.FileBrowserItem.create(item);
        jodit.e.on(_this.container, 'click contextmenu dblclick', function (e) {
            jodit.e.fire(e.type + 'Item.filebrowser', _this.item, (0, helpers_1.ctrlKey)(e) || e.shiftKey, e);
            return false;
        });
        return _this;
    }
    UIBrowserItem.prototype.className = function () {
        return 'UIBrowserItem';
    };
    UIBrowserItem.prototype.render = function () {
        return "<div tabindex='-1'>\n\t\t\t<div class='&__image'></div>\n\t\t\t<div class='&__info'></div>\n\t\t\t<div class='&__heart'>*heart*</div>\n\t\t</div>";
    };
    UIBrowserItem.prototype.onClickFavorite = function () {
        var _this = this;
        this.bubble(function (box) {
            _this.jodit.e.fire(box, 'toggleFavoriteItem', _this.item);
        });
        return false;
    };
    UIBrowserItem.prototype.onAction = function (e) {
        this.jodit.e.fire(e.type + 'Item.filebrowser', this.item, (0, helpers_1.ctrlKey)(e) || e.shiftKey, e);
        return false;
    };
    UIBrowserItem.prototype.update = function () {
        var image = this.getElm('image');
        (0, helpers_2.assert)(image != null, 'image element does not exists');
        (0, helpers_1.css)(image, 'backgroundImage', "url(".concat(encodeURI(this.item.imageURL), ")"));
        var _a = this.item, type = _a.type, file = _a.file, time = _a.time, size = _a.size;
        this.setMod('is-file', this.item.isImage === false)
            .setMod('type', type !== null && type !== void 0 ? type : 'file')
            .setElementValue('name', file)
            .setElementValue('time', time)
            .setElementValue('filesize', size);
        (0, helpers_1.attr)(this.container, 'title', type !== 'folder' ? "".concat(file, " ").concat(time, " ").concat(size) : file);
        _super.prototype.update.call(this);
    };
    UIBrowserItem.prototype.setElementValue = function (name, value) {
        var elementClassName = this.getFullElName(name);
        var element = this.getElm(name);
        if (!value) {
            element && modules_1.Dom.safeRemove(element);
            return this;
        }
        if (!element) {
            var wrapper = this.getElm('info');
            (0, helpers_2.assert)(wrapper != null, 'wrapper element does not exist');
            element = this.j.create.div(elementClassName);
            wrapper.appendChild(element);
        }
        element.innerText = value;
        return this;
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)('heart:click')
    ], UIBrowserItem.prototype, "onClickFavorite", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['container:click', 'container:contextmenu', 'container:dblclick'])
    ], UIBrowserItem.prototype, "onAction", null);
    UIBrowserItem = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserItem);
    return UIBrowserItem;
}(ui_1.UIElement));
exports.UIBrowserItem = UIBrowserItem;


/***/ }),

/***/ 94613:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UILightBox = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(76391);
var modules_1 = __webpack_require__(46701);
var decorators_1 = __webpack_require__(9901);
var helpers_1 = __webpack_require__(92654);
var constants_1 = __webpack_require__(10063);
var helpers_2 = __webpack_require__(92654);
var UILightBox = (function (_super) {
    tslib_1.__extends(UILightBox, _super);
    function UILightBox(jodit, current, elements) {
        var _this = _super.call(this, jodit) || this;
        _this.current = current;
        _this.elements = elements;
        _this.dialog = new modules_1.Dialog();
        var dialog = _this.dialog;
        dialog
            .setMod('theme', jodit.state.theme)
            .toolbar.setMod('mode', 'header');
        dialog.open(_this);
        _this.elements = _this.elements.filter(function (e) { return e.isImage; });
        dialog.e.on(dialog, 'afterClose', function () {
            _this.destruct();
        });
        _this.addGlobalListeners();
        _this.onChangeCurrent();
        dialog.toolbar.build([
            {
                icon: 'check',
                exec: function () {
                    jodit.stateManager.addActive(_this.current, false);
                    jodit.e.fire('select.filebrowser');
                    dialog.close();
                }
            },
            'dialog.close'
        ]);
        return _this;
    }
    UILightBox_1 = UILightBox;
    UILightBox.prototype.className = function () {
        return 'UILightBox';
    };
    UILightBox.prototype.render = function () {
        return "<div>\n\t\t\t<div class='&__previous'>*angle-left*</div>\n\t\t\t<div class='&__preview'></div>\n\t\t\t<div class='&__loader'></div>\n\t\t\t<div class='&__next'>*angle-right*</div>\n\t\t</div>";
    };
    UILightBox.prototype.onChangeCurrent = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var current, preview, image, iframe;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        current = this.current;
                        this.setMod('loading', true);
                        preview = this.getElm('preview');
                        (0, helpers_2.assert)(preview != null, 'preview element does not exist');
                        modules_1.Dom.detach(preview);
                        (0, helpers_1.css)(preview, {
                            backgroundImage: null
                        });
                        if (!current.isImage) return [3, 2];
                        return [4, (0, helpers_1.loadImage)(current.fileURL, this.j)];
                    case 1:
                        image = _a.sent();
                        this.dialog.setPosition();
                        (0, helpers_1.css)(preview, {
                            width: Math.min(this.jodit.ow.innerWidth, image.naturalWidth),
                            height: Math.min(this.jodit.ow.innerHeight - 100, image.naturalHeight),
                            backgroundImage: "url(".concat(image.src, ")")
                        });
                        return [3, 4];
                    case 2: return [4, this.makeIframe(current.fileURL)];
                    case 3:
                        iframe = _a.sent();
                        preview.appendChild(iframe);
                        _a.label = 4;
                    case 4:
                        this.dialog.setSize();
                        this.dialog.setPosition();
                        this.setMod('loading', false);
                        return [2];
                }
            });
        });
    };
    UILightBox.prototype.makeIframe = function (url) {
        var iframe = this.j.c.element('iframe');
        iframe.classList.add(this.getFullElName('office-iframe'));
        iframe.src = /\.pdf/.test(url)
            ? url
            : this.j.o.previewOfficeURL + encodeURIComponent(url);
        return iframe;
    };
    UILightBox.prototype.onPreviousClick = function () {
        var current = this.current;
        var index = this.j.stateManager.getIndex(current, this.elements);
        if (index <= 0) {
            index = this.elements.length - 1;
        }
        else {
            index -= 1;
        }
        this.current = this.elements[index];
    };
    UILightBox.prototype.onNextClick = function () {
        var current = this.current;
        var index = this.j.stateManager.getIndex(current, this.elements);
        if (index >= this.elements.length - 1) {
            index = 0;
        }
        else {
            index += 1;
        }
        this.current = this.elements[index];
    };
    UILightBox.open = function (jodit, current, elements) {
        return new UILightBox_1(jodit, current, elements);
    };
    UILightBox.prototype.addGlobalListeners = function () {
        this.j.e.on(this.j.od, 'keydown', this.onKeyPress);
    };
    UILightBox.prototype.onKeyPress = function (e) {
        if (e.key === constants_1.KEY_LEFT || e.key === constants_1.KEY_RIGHT || e.key === constants_1.KEY_SPACE) {
            e.key === constants_1.KEY_LEFT ? this.onPreviousClick() : this.onNextClick();
            return false;
        }
    };
    UILightBox.prototype.removeGlobalListeners = function () {
        this.j.e.off(this.j.od, 'keydown', this.onKeyPress);
    };
    UILightBox.prototype.destruct = function () {
        this.removeGlobalListeners();
        this.dialog.destruct();
        return _super.prototype.destruct.call(this);
    };
    var UILightBox_1;
    tslib_1.__decorate([
        (0, decorators_1.watch)('current')
    ], UILightBox.prototype, "onChangeCurrent", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('previous:click')
    ], UILightBox.prototype, "onPreviousClick", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('next:click')
    ], UILightBox.prototype, "onNextClick", null);
    tslib_1.__decorate([
        decorators_1.autobind
    ], UILightBox.prototype, "onKeyPress", null);
    UILightBox = UILightBox_1 = tslib_1.__decorate([
        decorators_1.component
    ], UILightBox);
    return UILightBox;
}(modules_1.UIElement));
exports.UILightBox = UILightBox;


/***/ }),

/***/ 7838:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserMessage = void 0;
var tslib_1 = __webpack_require__(20255);
var ui_1 = __webpack_require__(14153);
var index_1 = __webpack_require__(9901);
var helpers_1 = __webpack_require__(92654);
var UIBrowserMessage = (function (_super) {
    tslib_1.__extends(UIBrowserMessage, _super);
    function UIBrowserMessage(jodit, message) {
        var _this = _super.call(this, jodit) || this;
        _this.container.innerText = (0, helpers_1.isString)(message)
            ? message
            : message.message;
        return _this;
    }
    UIBrowserMessage.prototype.className = function () {
        return 'UIBrowserMessage';
    };
    UIBrowserMessage = tslib_1.__decorate([
        index_1.component
    ], UIBrowserMessage);
    return UIBrowserMessage;
}(ui_1.UIElement));
exports.UIBrowserMessage = UIBrowserMessage;


/***/ }),

/***/ 30389:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserMessages = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(76347);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var message_1 = __webpack_require__(7838);
var UIBrowserMessages = (function (_super) {
    tslib_1.__extends(UIBrowserMessages, _super);
    function UIBrowserMessages() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIBrowserMessages.prototype.className = function () {
        return 'UIBrowserMessages';
    };
    UIBrowserMessages.prototype.build = function (items) {
        var _this = this;
        this.clear();
        items.forEach(function (item) {
            var message = new message_1.UIBrowserMessage(_this.jodit, item.message);
            message.setMod('type', item.type);
            _this.append(message);
        });
    };
    UIBrowserMessages = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserMessages);
    return UIBrowserMessages;
}(ui_1.UIGroup));
exports.UIBrowserMessages = UIBrowserMessages;


/***/ }),

/***/ 10086:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserPanel = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(77643);
var ui_1 = __webpack_require__(14153);
var virtual_scroll_1 = __webpack_require__(41910);
var messages_1 = __webpack_require__(30389);
var decorators_1 = __webpack_require__(9901);
var sidebar_1 = __webpack_require__(85945);
var settings_1 = __webpack_require__(20715);
var helpers_1 = __webpack_require__(92654);
var sources_1 = __webpack_require__(51402);
var statusbar_1 = __webpack_require__(92185);
var preview_1 = __webpack_require__(79190);
var UIBrowserPanel = (function (_super) {
    tslib_1.__extends(UIBrowserPanel, _super);
    function UIBrowserPanel(jodit, stateManager) {
        var _this = _super.call(this, jodit) || this;
        _this.stateManager = stateManager;
        _this.syncMod = true;
        _this.sources = new sources_1.UIBrowserSources(_this.j);
        _this.sidebar = new sidebar_1.UISidebar(_this.jodit, [_this.sources], _this.stateManager.state);
        _this.preview = new preview_1.UIPreview(_this.jodit, _this.stateManager.state);
        _this.statusbar = new statusbar_1.UIBrowserStatusBar(_this.j);
        _this.items = new virtual_scroll_1.UIVirtualScroll(_this.j, _this.stateManager);
        _this.settings = new settings_1.UIBrowserSettings(_this.jodit, _this.stateManager.state);
        _this.messages = new messages_1.UIBrowserMessages(_this.j);
        _this.state = stateManager.state;
        _this.append(_this.sidebar, 'content');
        _this.append(_this.items, 'content');
        _this.append(_this.messages, 'footer');
        _this.append(_this.settings, 'content');
        _this.append(_this.preview, 'content');
        _this.append(_this.statusbar, 'footer');
        _this.onChangeElements();
        _this.onChangeSources();
        _this.onChangeView();
        _this.onChangeTileSize();
        _this.onChangeShowFavorites();
        _this.onChangeMessages();
        _this.onChangeActiveElements();
        _this.onChangeFavorites();
        _this.onChangeShowSideBar();
        _this.onChangeShowSettings();
        _this.onChangeShowPreview();
        _this.onChangeTheme();
        return _this;
    }
    UIBrowserPanel.prototype.className = function () {
        return 'UIBrowserPanel';
    };
    Object.defineProperty(UIBrowserPanel.prototype, "countInRow", {
        get: function () {
            if (this.state.view === 'list') {
                return 1;
            }
            var container = this.items.elements[0].container, margin = (0, helpers_1.css)(container, 'marginLeft');
            return Math.floor(this.items.container.offsetWidth /
                (container.offsetWidth + ((0, helpers_1.isNumber)(margin) ? margin : 0)));
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(UIBrowserPanel.prototype, "countInColumn", {
        get: function () {
            var container = this.items.elements[0].container, margin = (0, helpers_1.css)(container, 'marginTop');
            return Math.floor(this.items.container.offsetHeight /
                (container.offsetHeight + ((0, helpers_1.isNumber)(margin) ? margin : 0)));
        },
        enumerable: false,
        configurable: true
    });
    UIBrowserPanel.prototype.render = function () {
        return "<div>\n\t\t\t<div class='&__content'></div>\n\t\t\t<div class='&__footer'></div>\n\t\t</div>";
    };
    UIBrowserPanel.prototype.onChangeTheme = function () {
        this.setMod('theme', this.stateManager.state.theme);
    };
    UIBrowserPanel.prototype.onChangeElements = function () {
        this.items.build(this.stateManager.state.elements);
    };
    UIBrowserPanel.prototype.onChangeActiveElements = function () {
        var _this = this;
        if (!this.state.activeElements.length) {
            this.state.info = '';
            this.state.metaInfo = null;
        }
        this.items.elements.forEach(function (elm) {
            elm.setMod('active', Boolean(_this.stateManager.isActive(elm.item)));
        });
        this.j.e.fire('changeSelection');
    };
    UIBrowserPanel.prototype.onChangeFavorites = function () {
        var _this = this;
        this.items.elements.forEach(function (elm) {
            elm.setMod('favorite', Boolean(_this.stateManager.isFavorite(elm.item)));
        });
    };
    UIBrowserPanel.prototype.onChangeSources = function () {
        this.sources.build(this.stateManager.state.tree);
    };
    UIBrowserPanel.prototype.onChangeLastSelectedIndex = function () {
        var _a;
        var container = (_a = this.items.elements[this.stateManager.state.lastSelectedIndex]) === null || _a === void 0 ? void 0 : _a.container;
        if (container) {
            (0, helpers_1.scrollIntoViewIfNeeded)(container, this.items.container, this.j.od);
            container.focus();
        }
    };
    UIBrowserPanel.prototype.onChangeInfo = function () {
        this.statusbar.value(this.state.info, 'center');
    };
    UIBrowserPanel.prototype.onChangePathOrSource = function () {
        this.statusbar.value(this.state.currentPath
            ? "".concat(this.state.currentPath, " (").concat(this.state.currentSource, ")")
            : this.i18n('Home'), 'left');
    };
    UIBrowserPanel.prototype.onChangeShowSettings = function () {
        this.settings.setMod('hidden', !this.stateManager.state.showSettings);
    };
    UIBrowserPanel.prototype.onChangeShowPreview = function () {
        this.preview.setMod('hidden', !this.stateManager.state.showPreview);
    };
    UIBrowserPanel.prototype.onChangeShowSideBar = function () {
        this.sidebar.setMod('hidden', !this.stateManager.state.showSideBar);
    };
    UIBrowserPanel.prototype.onChangeView = function () {
        this.items.setMod('view', this.stateManager.state.view);
    };
    UIBrowserPanel.prototype.onChangeTileSize = function () {
        this.items.setMod('size', this.stateManager.state.tileSize);
    };
    UIBrowserPanel.prototype.onChangeShowFavorites = function () {
        this.sidebar.setMod('show-favorites', this.stateManager.state.showFavorites);
        this.items.setMod('show-favorites', this.stateManager.state.showFavorites);
    };
    UIBrowserPanel.prototype.onChangeMessages = function () {
        this.messages.build(this.stateManager.state.messages);
    };
    UIBrowserPanel.prototype.onItemDblClick = function () {
        this.j.e.fire('select.filebrowser');
        return false;
    };
    UIBrowserPanel.prototype.onItemClick = function (data, multi) {
        this.stateManager.addActive(data, multi);
    };
    UIBrowserPanel.prototype.onTogglePreview = function () {
        this.state.showPreview = !this.state.showPreview;
        return false;
    };
    UIBrowserPanel.prototype.onToggleFavoriteItem = function (data) {
        this.stateManager.toggleFavorite(data);
    };
    UIBrowserPanel.prototype.onFolderClick = function (data) {
        this.stateManager.state.currentSource = data.sourceName;
        this.stateManager.state.currentPath = data.path || '/';
        this.j.e.fire('afterOpenFolder.filebrowser');
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.theme')
    ], UIBrowserPanel.prototype, "onChangeTheme", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.elements')
    ], UIBrowserPanel.prototype, "onChangeElements", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.activeElements')
    ], UIBrowserPanel.prototype, "onChangeActiveElements", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['state.favorites', 'state.elements'])
    ], UIBrowserPanel.prototype, "onChangeFavorites", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.sources')
    ], UIBrowserPanel.prototype, "onChangeSources", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.lastSelectedIndex')
    ], UIBrowserPanel.prototype, "onChangeLastSelectedIndex", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.info')
    ], UIBrowserPanel.prototype, "onChangeInfo", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['state.currentPath', 'state.currentSource'])
    ], UIBrowserPanel.prototype, "onChangePathOrSource", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showSettings')
    ], UIBrowserPanel.prototype, "onChangeShowSettings", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showPreview')
    ], UIBrowserPanel.prototype, "onChangeShowPreview", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showSideBar')
    ], UIBrowserPanel.prototype, "onChangeShowSideBar", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.view')
    ], UIBrowserPanel.prototype, "onChangeView", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.tileSize')
    ], UIBrowserPanel.prototype, "onChangeTileSize", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.showFavorites')
    ], UIBrowserPanel.prototype, "onChangeShowFavorites", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.messages')
    ], UIBrowserPanel.prototype, "onChangeMessages", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':dblclickItem.filebrowser')
    ], UIBrowserPanel.prototype, "onItemDblClick", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':clickItem.filebrowser')
    ], UIBrowserPanel.prototype, "onItemClick", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':togglePreview.filebrowser')
    ], UIBrowserPanel.prototype, "onTogglePreview", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':toggleFavoriteItem')
    ], UIBrowserPanel.prototype, "onToggleFavoriteItem", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(':openFolder')
    ], UIBrowserPanel.prototype, "onFolderClick", null);
    UIBrowserPanel = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserPanel);
    return UIBrowserPanel;
}(ui_1.UIGroup));
exports.UIBrowserPanel = UIBrowserPanel;


/***/ }),

/***/ 79190:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIPreview = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(44246);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var resize_1 = __webpack_require__(49559);
var helpers_1 = __webpack_require__(92654);
var dom_1 = __webpack_require__(94522);
var item_1 = __webpack_require__(12157);
var helpers_2 = __webpack_require__(92654);
var UIPreview = (function (_super) {
    tslib_1.__extends(UIPreview, _super);
    function UIPreview(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        _this.lastLoadPromise = null;
        _this.onChangeMetaInfo();
        return _this;
    }
    UIPreview.prototype.className = function () {
        return 'UIPreview';
    };
    UIPreview.prototype.addResize = function () {
        resize_1.UIResize.remove(this);
        resize_1.UIResize.install(this, screen.width > 450 ? 'left' : 'top');
    };
    UIPreview.prototype.render = function () {
        return "<div>\n\t\t\t\t<div class=\"&__image\"></div>\n\t\t\t\t<div class=\"&__info\"></div>\n\t\t\t\t<div class=\"&__loader\"></div>\n\t\t\t\t<div class=\"&__empty-message\">~Select image~</div>\n\t\t\t</div>";
    };
    UIPreview.prototype.afterSetMod = function (name, value) {
        if (name === 'hidden' && value === false) {
            this.onChangeMetaInfo();
        }
        _super.prototype.afterSetMod.call(this, name, value);
    };
    UIPreview.prototype.onChangeMetaInfo = function () {
        var _this = this;
        var _a, _b;
        if (this.getMod('hidden')) {
            return;
        }
        var metaInfo = this.state.metaInfo;
        this.setMod('empty', !metaInfo);
        var info = this.getElm('info');
        (0, helpers_2.assert)(info != null, 'info element does not exists');
        dom_1.Dom.detach(info);
        var image = this.getElm('image');
        (0, helpers_2.assert)(image != null, 'image element does not exists');
        (0, helpers_1.css)(image, {
            backgroundImage: null
        });
        if (!metaInfo) {
            return;
        }
        this.setMod('is-file', metaInfo.isImage === false).setMod('type', (_a = metaInfo.type) !== null && _a !== void 0 ? _a : 'file');
        item_1.UIBrowserItem.prototype.setElementValue.call(this, 'name', metaInfo.file);
        item_1.UIBrowserItem.prototype.setElementValue.call(this, 'time', metaInfo.time);
        item_1.UIBrowserItem.prototype.setElementValue.call(this, 'filesize', metaInfo.size);
        this.setMod('loading', true);
        (_b = this.lastLoadPromise) === null || _b === void 0 ? void 0 : _b.rejectCallback();
        this.lastLoadPromise = (0, helpers_1.loadImage)(metaInfo.isImage ? metaInfo.fileURL : metaInfo.imageURL, this.j);
        this.lastLoadPromise
            .then(function (image) {
            var elm = _this.getElm('image');
            (0, helpers_2.assert)(elm != null, 'image element does not exist');
            image &&
                (0, helpers_1.css)(elm, {
                    backgroundImage: "url(".concat(image.src, ")")
                });
        })
            .finally(function () {
            _this.setMod('loading', false);
        })
            .catch(function () { });
    };
    tslib_1.__decorate([
        (0, decorators_1.hook)('ready'),
        (0, decorators_1.watch)(':resize', window),
        (0, decorators_1.debounce)()
    ], UIPreview.prototype, "addResize", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.metaInfo')
    ], UIPreview.prototype, "onChangeMetaInfo", null);
    UIPreview = tslib_1.__decorate([
        decorators_1.component
    ], UIPreview);
    return UIPreview;
}(ui_1.UIGroup));
exports.UIPreview = UIPreview;


/***/ }),

/***/ 48333:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIProgress = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(24064);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var UIProgress = (function (_super) {
    tslib_1.__extends(UIProgress, _super);
    function UIProgress(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        _this.onProgress();
        return _this;
    }
    UIProgress.prototype.className = function () {
        return 'UIProgress';
    };
    UIProgress.prototype.onProgress = function () {
        if (this.state.progress) {
            this.show();
        }
        else {
            this.hide();
        }
        this.progress(this.state.progress);
    };
    UIProgress.prototype.hide = function () {
        this.setMod('hidden', true);
        return this;
    };
    UIProgress.prototype.progress = function (percentage) {
        var _this = this;
        this.container.style.width = percentage.toFixed(2) + '%';
        if (percentage >= 98) {
            this.j.async.setTimeout(function () {
                _this.hide();
            }, {
                label: 'progress',
                timeout: 300
            });
        }
        return this;
    };
    UIProgress.prototype.show = function () {
        this.setMod('hidden', false);
        return this;
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.progress')
    ], UIProgress.prototype, "onProgress", null);
    UIProgress = tslib_1.__decorate([
        decorators_1.component
    ], UIProgress);
    return UIProgress;
}(ui_1.ProgressBar));
exports.UIProgress = UIProgress;


/***/ }),

/***/ 20715:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserSettings = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(58138);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var helpers_1 = __webpack_require__(92654);
var UIBrowserSettings = (function (_super) {
    tslib_1.__extends(UIBrowserSettings, _super);
    function UIBrowserSettings(jodit, state) {
        var _this = _super.call(this, jodit) || this;
        _this.state = state;
        var close = _this.getElm('close');
        (0, helpers_1.assert)(close != null, 'close element does not exists');
        jodit.e.on(close, 'click', function () {
            _this.state.showSettings = false;
        });
        return _this;
    }
    UIBrowserSettings.prototype.className = function () {
        return 'UIBrowserSettings';
    };
    UIBrowserSettings.prototype.render = function () {
        return "<div>\n\t\t\t<div class=\"".concat(this.getFullElName('close'), "\">").concat(ui_1.Icon.get('cancel'), "</div>\n\t\t\t<div class=\"").concat(this.getFullElName('title'), "\">").concat(this.j.i18n('Settings'), "</div>\n\t\t\t<div class=\"").concat(this.getFullElName('options'), "\"></div>\n\t\t</div>");
    };
    UIBrowserSettings.prototype.appendChildToContainer = function (childContainer) {
        var options = this.getElm('options');
        (0, helpers_1.assert)(options != null, 'options element does not exists');
        options.appendChild(childContainer);
    };
    UIBrowserSettings.prototype.afterSetMod = function (name, value) {
        if (name === 'hidden' && value === false) {
            this.generateSettings();
        }
        _super.prototype.afterSetMod.call(this, name, value);
    };
    UIBrowserSettings.prototype.onChangeView = function () {
        var tileSize = this.getElm('tile-size');
        if (tileSize) {
            tileSize.style.display =
                this.state.view === 'tiles' ? 'block' : 'none';
        }
    };
    UIBrowserSettings.prototype.generateSettings = function () {
        var _this = this;
        this.clear();
        var j = this.j;
        this.append([
            new ui_1.UIButtonGroup(j, {
                label: 'Theme',
                name: 'theme',
                value: this.state.theme,
                radio: true,
                options: [
                    { value: 'default', text: 'Light' },
                    { value: 'dark', text: 'Dark' }
                ],
                onChange: function (values) {
                    if (_this.state.theme !== 'default' &&
                        _this.state.theme !== 'dark') {
                        _this.state.theme = 'default';
                        return;
                    }
                    _this.state.theme = values[0].value;
                }
            }),
            new ui_1.UIButtonGroup(j, {
                label: 'Show favorites',
                name: 'showFavorites',
                value: this.state.showFavorites,
                radio: true,
                options: [
                    { value: true, text: 'Show' },
                    { value: false, text: 'Hide' }
                ],
                onChange: function (values) {
                    _this.state.showFavorites = values[0].value;
                }
            }),
            new ui_1.UIButtonGroup(j, {
                label: 'View',
                name: 'view',
                value: this.state.view,
                radio: true,
                options: [
                    { value: 'tiles', text: 'Tiles' },
                    { value: 'list', text: 'List' },
                    { value: 'compact', text: 'Compact' }
                ],
                onChange: function (values) {
                    _this.state.view = values[0].value;
                }
            }),
            new ui_1.UIButtonGroup(j, {
                label: 'Folders position',
                name: 'foldersPosition',
                value: this.state.foldersPosition,
                radio: true,
                options: [
                    { value: 'top', text: 'Top' },
                    { value: 'bottom', text: 'Bottom' },
                    { value: 'default', text: 'Default' }
                ],
                onChange: function (values) {
                    _this.state.foldersPosition = values[0].value;
                }
            }),
            new ui_1.UISelect(j, {
                label: 'Sort by',
                name: 'sort-by',
                value: this.state.sortBy,
                options: [
                    {
                        value: 'changed-asc',
                        text: j.i18n('Sort by changed') + '(⬆)'
                    },
                    {
                        value: 'changed-desc',
                        text: j.i18n('Sort by changed') + '(⬇)'
                    },
                    {
                        value: 'name-asc',
                        text: j.i18n('Sort by name') + '(⬆)'
                    },
                    {
                        value: 'name-desc',
                        text: j.i18n('Sort by name') + '(⬇)'
                    },
                    {
                        value: 'size-asc',
                        text: j.i18n('Sort by size') + '(⬆)'
                    },
                    {
                        value: 'size-desc',
                        text: j.i18n('Sort by size') + '(⬇)'
                    }
                ],
                onChange: function (value) {
                    _this.state.sortBy = value;
                }
            }),
            new ui_1.UISelect(j, {
                label: 'Tile size',
                name: 'tile-size',
                value: this.state.tileSize,
                options: [
                    {
                        value: 'xsmall',
                        text: 'Extra small'
                    },
                    {
                        value: 'small',
                        text: 'Small'
                    },
                    {
                        value: 'default',
                        text: 'Default'
                    },
                    {
                        value: 'large',
                        text: 'Large'
                    },
                    {
                        value: 'xlarge',
                        text: 'Extra large'
                    }
                ],
                onChange: function (value) {
                    _this.state.tileSize =
                        value;
                }
            })
        ]);
        this.onChangeView();
    };
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.view')
    ], UIBrowserSettings.prototype, "onChangeView", null);
    UIBrowserSettings = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserSettings);
    return UIBrowserSettings;
}(ui_1.UIGroup));
exports.UIBrowserSettings = UIBrowserSettings;


/***/ }),

/***/ 85945:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UISidebar = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(4293);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var resize_1 = __webpack_require__(49559);
var helpers_1 = __webpack_require__(92654);
var UISidebar = (function (_super) {
    tslib_1.__extends(UISidebar, _super);
    function UISidebar(jodit, elements, state) {
        var _this = _super.call(this, jodit, elements) || this;
        _this.state = state;
        _this.onChangeFavorites();
        return _this;
    }
    UISidebar.prototype.className = function () {
        return 'UISidebar';
    };
    UISidebar.prototype.render = function () {
        return "<div>\n\t\t\t<div class='&__hide-btn'>*angle-left*</div>\n\t\t\t<div class='&__favorites'>*heart* ~Favorites~</div>\n\t\t\t<div class='&__box'></div>\n\t\t</div>";
    };
    UISidebar.prototype.appendChildToContainer = function (childContainer) {
        var box = this.getElm('box');
        (0, helpers_1.assert)(box != null, 'box element does not exists');
        box.appendChild(childContainer);
    };
    UISidebar.prototype.addResize = function () {
        resize_1.UIResize.remove(this);
        resize_1.UIResize.install(this, screen.width > 450 ? 'right' : 'bottom');
    };
    UISidebar.prototype.onChangeFavorites = function () {
        this.setMod('has-favorites', Boolean(this.state.favorites.length));
    };
    UISidebar.prototype.onClickHideButton = function () {
        this.state.showSideBar = !this.state.showSideBar;
        return false;
    };
    UISidebar.prototype.onClickFavorites = function () {
        this.state.elements = this.state.favorites;
        return false;
    };
    tslib_1.__decorate([
        (0, decorators_1.hook)('ready'),
        (0, decorators_1.watch)(':resize', window),
        (0, decorators_1.debounce)()
    ], UISidebar.prototype, "addResize", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('state.favorites')
    ], UISidebar.prototype, "onChangeFavorites", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('hide-btn:click')
    ], UISidebar.prototype, "onClickHideButton", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('favorites:click')
    ], UISidebar.prototype, "onClickFavorites", null);
    UISidebar = tslib_1.__decorate([
        decorators_1.component
    ], UISidebar);
    return UISidebar;
}(ui_1.UIGroup));
exports.UISidebar = UISidebar;


/***/ }),

/***/ 22081:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserSource = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(93702);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var tree_1 = __webpack_require__(19591);
var helpers_1 = __webpack_require__(92654);
var UIBrowserSource = (function (_super) {
    tslib_1.__extends(UIBrowserSource, _super);
    function UIBrowserSource(jodit, data) {
        var _this = _super.call(this, jodit, data) || this;
        _this.data = data;
        _this.tree = new tree_1.UITree(_this.j, _this.data.children);
        _this.syncMod = true;
        var name = _this.getElm('name');
        (0, helpers_1.assert)(name != null, 'name element does not exists');
        name.innerText = data.title || data.name;
        var tree = _this.getElm('tree');
        (0, helpers_1.assert)(tree != null, 'tree element does not exists');
        tree.appendChild(_this.tree.container);
        jodit.e.on(_this.container, 'contextmenu', function (e) {
            return jodit.e.fire('contextmenuSource.filebrowser', data, e);
        });
        return _this;
    }
    UIBrowserSource.prototype.className = function () {
        return 'UIBrowserSource';
    };
    UIBrowserSource.prototype.render = function () {
        return "<div>\n\t\t\t<div class=\"&__name\"></div>\n\t\t\t<div class=\"&__tree\"></div>\n\t\t</div>";
    };
    UIBrowserSource = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserSource);
    return UIBrowserSource;
}(ui_1.UIElement));
exports.UIBrowserSource = UIBrowserSource;


/***/ }),

/***/ 51402:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserSources = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(90193);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var source_1 = __webpack_require__(22081);
var UIBrowserSources = (function (_super) {
    tslib_1.__extends(UIBrowserSources, _super);
    function UIBrowserSources() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.syncMod = true;
        return _this;
    }
    UIBrowserSources.prototype.className = function () {
        return 'UIBrowserSources';
    };
    UIBrowserSources.prototype.build = function (items) {
        var _this = this;
        this.clear();
        items.forEach(function (item) {
            _this.append(new source_1.UIBrowserSource(_this.jodit, item));
        });
    };
    UIBrowserSources = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserSources);
    return UIBrowserSources;
}(ui_1.UIGroup));
exports.UIBrowserSources = UIBrowserSources;


/***/ }),

/***/ 92185:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIBrowserStatusBar = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(15819);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var helpers_1 = __webpack_require__(92654);
var UIBrowserStatusBar = (function (_super) {
    tslib_1.__extends(UIBrowserStatusBar, _super);
    function UIBrowserStatusBar() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIBrowserStatusBar.prototype.className = function () {
        return 'UIBrowserStatusBar';
    };
    UIBrowserStatusBar.prototype.render = function () {
        return "<div>\n\t\t\t<div class='&__slot-left'></div>\n\t\t\t<div class='&__slot-center'></div>\n\t\t\t<div class='&__slot-right'></div>\n\t\t</div>";
    };
    UIBrowserStatusBar.prototype.value = function (text, slot) {
        if (slot === void 0) { slot = 'left'; }
        var slotElm = this.getElm("slot-".concat(slot));
        (0, helpers_1.assert)(slotElm != null, 'Slot does not exists');
        slotElm.innerText = text;
        return this;
    };
    UIBrowserStatusBar = tslib_1.__decorate([
        decorators_1.component
    ], UIBrowserStatusBar);
    return UIBrowserStatusBar;
}(ui_1.UIElement));
exports.UIBrowserStatusBar = UIBrowserStatusBar;


/***/ }),

/***/ 19591:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UITree = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(87272);
var ui_1 = __webpack_require__(14153);
var index_1 = __webpack_require__(9901);
var folder_1 = __webpack_require__(50678);
var UITree = (function (_super) {
    tslib_1.__extends(UITree, _super);
    function UITree(jodit, items) {
        var _this = _super.call(this, jodit) || this;
        _this.syncMod = true;
        _this.build(items);
        return _this;
    }
    UITree_1 = UITree;
    UITree.prototype.className = function () {
        return 'UITree';
    };
    UITree.prototype.build = function (items) {
        var _this = this;
        this.clear();
        items.forEach(function (item) {
            var folder = new folder_1.UIBrowserFolder(_this.jodit, item);
            _this.append(folder);
            if (item.isActive) {
                folder.setMod('active', true);
            }
            if (item.children.length) {
                _this.append(new UITree_1(_this.jodit, item.children));
            }
        });
    };
    var UITree_1;
    UITree = UITree_1 = tslib_1.__decorate([
        index_1.component
    ], UITree);
    return UITree;
}(ui_1.UIGroup));
exports.UITree = UITree;


/***/ }),

/***/ 41910:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIVirtualScroll = void 0;
var tslib_1 = __webpack_require__(20255);
__webpack_require__(4519);
var ui_1 = __webpack_require__(14153);
var decorators_1 = __webpack_require__(9901);
var item_1 = __webpack_require__(12157);
var item_2 = __webpack_require__(47713);
var select_items_1 = __webpack_require__(83096);
var helpers_1 = __webpack_require__(92654);
var UIVirtualScroll = (function (_super) {
    tslib_1.__extends(UIVirtualScroll, _super);
    function UIVirtualScroll(jodit, stateManager) {
        var _this = _super.call(this, jodit) || this;
        _this.stateManager = stateManager;
        _this.syncMod = true;
        _this.addItemsSelector();
        return _this;
    }
    UIVirtualScroll_1 = UIVirtualScroll;
    UIVirtualScroll.prototype.className = function () {
        return 'UIVirtualScroll';
    };
    UIVirtualScroll.prototype.render = function () {
        return "<div>\n\t\t\t\t<div class=\"&__empty-message\">~There are no files~</div>\n\t\t\t\t<div class='&__loader'></div>\n\t\t\t\t<div class='&__drag-area'>~Drop image~</div>\n\t\t\t</div>";
    };
    UIVirtualScroll.prototype.reconcile = function (items) {
        var clearIndex = this.elements.findIndex(function (elm, index) {
            return (!items[index] ||
                elm.item.uniqueHashKey !==
                    item_2.FileBrowserItem.create(items[index]).uniqueHashKey);
        });
        if (clearIndex > -1) {
            for (var i = clearIndex; i < this.elements.length; i += 1) {
                this.elements[i].destruct();
            }
            this.elements.length = clearIndex;
        }
        return clearIndex;
    };
    UIVirtualScroll.prototype.build = function (items) {
        var _this = this;
        var clearIndex = this.reconcile(items);
        items
            .slice(clearIndex > -1 ? clearIndex : this.elements.length)
            .forEach(function (item) {
            var elm = new item_1.UIBrowserItem(_this.jodit, item);
            Object.keys(_this.mods).forEach(function (mod) {
                elm.setMod(mod, _this.mods[mod]);
            });
            _this.append(elm);
        });
        this.setMod('empty', !this.elements.length);
    };
    UIVirtualScroll.prototype.onScrollLoadChunk = function () {
        if (!this.stateManager.isFavoriteItems &&
            this.container.scrollHeight -
                (this.container.scrollTop + this.container.offsetHeight) <
                this.j.o.pixelOffsetLoadNewChunk) {
            void this.j.loadingManager.loadItemsChunk();
        }
    };
    UIVirtualScroll.prototype.onDragOver = function (e) {
        e.preventDefault();
        this.setMod('dragover', true);
    };
    UIVirtualScroll.prototype.onDragLeave = function (e) {
        e.preventDefault();
        this.setMod('dragover', false);
    };
    UIVirtualScroll.prototype.addItemsSelector = function () {
        select_items_1.UISelectItems.install(this);
    };
    UIVirtualScroll.intersectRect = function (r1, r2) {
        return !(r2.left > r1.left + r1.width ||
            r2.left + r2.width < r1.left ||
            r2.top > r1.top + r1.height ||
            r2.top + r2.height < r1.top);
    };
    UIVirtualScroll.prototype.onSelectItems = function (bound) {
        var selected = [];
        this.elements.forEach(function (elm) {
            var pos = (0, helpers_1.position)(elm.container);
            if (UIVirtualScroll_1.intersectRect(pos, bound)) {
                selected.push(elm.item);
            }
        });
        this.stateManager.state.activeElements = selected;
    };
    var UIVirtualScroll_1;
    tslib_1.__decorate([
        (0, decorators_1.watch)(':afterResize'),
        (0, decorators_1.watch)(':resize'),
        (0, decorators_1.watch)('container:scroll'),
        (0, decorators_1.throttle)()
    ], UIVirtualScroll.prototype, "onScrollLoadChunk", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)('container:dragover')
    ], UIVirtualScroll.prototype, "onDragOver", null);
    tslib_1.__decorate([
        (0, decorators_1.watch)(['container:dragleave', 'container:drop'])
    ], UIVirtualScroll.prototype, "onDragLeave", null);
    UIVirtualScroll = UIVirtualScroll_1 = tslib_1.__decorate([
        decorators_1.component
    ], UIVirtualScroll);
    return UIVirtualScroll;
}(ui_1.UIGroup));
exports.UIVirtualScroll = UIVirtualScroll;


/***/ }),

/***/ 13395:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.license = void 0;
var tslib_1 = __webpack_require__(20255);
var plugin_1 = __webpack_require__(35570);
var modules_1 = __webpack_require__(46701);
var helpers_1 = __webpack_require__(92654);
var helpers_2 = __webpack_require__(11777);
var license = (function (_super) {
    tslib_1.__extends(license, _super);
    function license() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    license.make = function (jodit) {
        return new license(jodit);
    };
    license.prototype.afterInit = function (jodit) {
        var _this = this;
        this.j.e.on('checkReserve', function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            var code, domain, valid;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        code = this.j.o.license, domain = location.host;
                        valid = (0, helpers_2.validateLicense)(code, domain);
                        if (!(!valid && code[12] > 'A' && !false)) return [3, 2];
                        return [4, this.validateLicenseRemote(code, domain)];
                    case 1:
                        valid = _a.sent();
                        _a.label = 2;
                    case 2: return [2, valid ? 'normal' : ''];
                }
            });
        }); });
    };
    license.prototype.beforeDestruct = function (jodit) { };
    license.prototype.validateLicenseRemote = function (code, domain) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var storageKey, newCode, s;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                storageKey = 'validateJoditLicenseRemote', newCode = this.j.storage.get(storageKey);
                if (newCode && (0, helpers_2.validateLicense)(newCode, domain)) {
                    return [2, true];
                }
                s = document.createElement('script');
                s.src = "https://xdsoft.net/jodit/pro/api/licenses/validate/?code=".concat(encodeURIComponent(code), "&host=").concat(encodeURIComponent(domain));
                document.body.appendChild(s);
                return [2, new Promise(function (res) {
                        window['onJoditResolveKeyCode'] = function (newCode) {
                            try {
                                if ((0, helpers_1.isBoolean)(newCode)) {
                                    return res(newCode);
                                }
                                if ((0, helpers_2.validateLicense)(newCode, domain)) {
                                    _this.j.storage.set(storageKey, newCode);
                                    res(true);
                                }
                                else {
                                    res(false);
                                }
                            }
                            finally {
                                modules_1.Dom.safeRemove(s);
                            }
                        };
                        setTimeout(function () {
                            res(false);
                            modules_1.Dom.safeRemove(s);
                        }, 3000);
                    })];
            });
        });
    };
    return license;
}(plugin_1.Plugin));
exports.license = license;


/***/ }),

/***/ 49559:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UIResize = void 0;
__webpack_require__(18524);
var helpers_1 = __webpack_require__(92654);
var dom_1 = __webpack_require__(94522);
var UIResize = (function () {
    function UIResize() {
    }
    UIResize.remove = function (element) {
        (0, helpers_1.css)(element.container, {
            width: null,
            height: null
        });
        element.container.classList.remove('jodit-ui-resize');
        dom_1.Dom.safeRemove(element.container.querySelector('.jodit-ui-resize__handle'));
    };
    UIResize.install = function (element, direction) {
        element.container.classList.add('jodit-ui-resize');
        if ((0, helpers_1.css)(element.container, 'position') === 'static') {
            (0, helpers_1.css)(element.container, 'position', 'relative');
        }
        var handle = element.j.c.div('jodit-ui-resize__handle');
        handle.classList.add('jodit-ui-resize__handle_type_' + direction);
        element.container.appendChild(handle);
        element.j.e.on(handle, 'mousedown touchstart', this.onStartResize.bind(this, element, direction));
    };
    UIResize.onStartResize = function (element, direction, e) {
        var start = {
            x: e.clientX,
            y: e.clientY,
            w: element.container.offsetWidth,
            h: element.container.offsetHeight,
            direction: direction
        }, onResize = element.j.async.throttle(this.onResize.bind(this, element, start), element.j.defaultTimeout / 10);
        element.j.lock();
        element.j.e
            .on(element.j.ow, 'mousemove touchmove', onResize)
            .one(element.j.ow, 'mouseup touchend', this.onEndResize.bind(this, element, onResize));
    };
    UIResize.onResize = function (element, start, e) {
        var byWidth = ['left', 'right'].includes(start.direction), parentElement = element.container.parentElement;
        if (!parentElement) {
            return;
        }
        var diff;
        if (byWidth) {
            diff =
                (start.w +
                    (e.clientX - start.x) *
                        (start.direction === 'right' ? 1 : -1)) /
                    parentElement.offsetWidth;
        }
        else {
            diff =
                (start.h +
                    (e.clientY - start.y) *
                        (start.direction === 'top' ? 1 : -1)) /
                    parentElement.offsetHeight;
        }
        (0, helpers_1.css)(element.container, byWidth ? 'width' : 'height', diff * 100 + '%');
    };
    UIResize.onEndResize = function (element, onResize, _) {
        element.j.e.off(element.j.ow, 'mousemove touchmove', onResize);
        element.j.unlock();
    };
    return UIResize;
}());
exports.UIResize = UIResize;


/***/ }),

/***/ 83096:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UISelectItems = void 0;
__webpack_require__(89008);
var dom_1 = __webpack_require__(94522);
var helpers_1 = __webpack_require__(92654);
var UISelectItems = (function () {
    function UISelectItems() {
    }
    UISelectItems.remove = function (element) {
        dom_1.Dom.safeRemove(element.container.querySelector('.jodit-ui-select-items'));
        element.j.e.off(element.container, 'mousedown.uiselectitems touchstart.uiselectitems');
    };
    UISelectItems.install = function (element) {
        var bound = element.j.c.div('jodit-ui-select-items');
        element.j.e.on(element.container, 'mousedown.uiselectitems touchstart.uiselectitems', this.onStartSelect.bind(this, element, bound));
    };
    UISelectItems.onStartSelect = function (element, bound, e) {
        if (e.target !== element.container) {
            return;
        }
        (0, helpers_1.css)(bound, { width: 0, height: 0 });
        element.container.appendChild(bound);
        var start = {
            x: e.clientX,
            y: e.clientY,
            w: element.container.offsetWidth,
            h: element.container.offsetHeight
        }, onSelect = element.j.async.throttle(this.onSelect.bind(this, element, bound, start), element.j.defaultTimeout / 10);
        element.j.lock();
        element.j.e
            .on(element.j.ow, 'mousemove touchmove', onSelect)
            .one(element.j.ow, 'mouseup touchend', this.onEndSelect.bind(this, element, bound, onSelect));
        element.onSelectItems({
            left: start.x,
            top: start.y,
            width: 0,
            height: 0
        });
    };
    UISelectItems.onSelect = function (element, bound, start, e) {
        var left = start.x > e.clientX ? e.clientX : start.x;
        var top = start.y > e.clientY ? e.clientY : start.y;
        var selectBound = {
            left: left,
            top: top,
            width: Math.abs(start.x - e.clientX),
            height: Math.abs(start.y - e.clientY)
        };
        (0, helpers_1.css)(bound, selectBound);
        element.onSelectItems(selectBound);
    };
    UISelectItems.onEndSelect = function (element, bound, onResize, _) {
        dom_1.Dom.safeRemove(bound);
        element.j.e.off(element.j.ow, 'mousemove touchmove', onResize);
        element.j.unlock();
    };
    return UISelectItems;
}());
exports.UISelectItems = UISelectItems;


/***/ }),

/***/ 99425:
/***/ (function(module) {

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */

module.exports = {
	Favorites: 'Избранное',
	Settings: 'Настройки',
	Light: 'Светлая',
	Dark: 'Темная',
	Theme: 'Тема',
	Show: 'Показать',
	Hide: 'Скрыть',
	'Show favorites': 'Показывать избранное',
	Tiles: 'Плитка',
	List: 'Список',
	Compact: 'Компактный',
	View: 'Отображение',
	'Folders position': 'Позиция папок',
	'Sort by': 'Сортировать по',
	'Extra small': 'Очень маленькие',
	Small: 'Маленькие',
	Large: 'Большие',
	'Extra large': 'Очень большие',
	'Tile size': 'Размер плитки'
};


/***/ }),

/***/ 11777:
/***/ (function(module) {

/*!
 * Jodit Editor PRO (https://xdsoft.net/jodit/)
 * See LICENSE.md in the project root for license information.
 * Copyright (c) 2013-2022 Valeriy Chupurnov. All rights reserved. https://xdsoft.net/jodit/pro/
 */

/* eslint-disable tsdoc/syntax */

/**
 * Validate license
 * @param {string} code
 * @param {string} domain
 * @return {boolean}
 */
function validateLicense(code, domain) {
	if (validateEntLicense(code)) {
		return true;
	}

	const domainsParts = domainsHash(domain);

	const parts = [
		'[A-F013456][A-F0-9]{3}{part}',
		'([0-3]){part}[E-L4-8]{2}\\1',
		'[A-D]{part}[J-P5-6]{3}',
		'{part}[A-R0-9]{3}[X-Z]'
	].map((part, index) => {
		return part.replace('{part}', domainsParts[index] || '[R-T]');
	});

	const reg = RegExp(`^${parts.join('-')}$`, 'i');
	const type = code.substring(12, 13);

	const result = reg.test(code);
	if (!result && type === (typeof !domain).toUpperCase()[5]) {
		const parts = domain.split('.');
		parts.shift();
		return parts.length ? validateLicense(code, parts.join('.')) : false;
	}

	return result;
}

module.exports.validateLicense = validateLicense;

function validateEntLicense(code) {
	return /[A-Z0-9][013456][A-P0-9]{2}[ABC]-([0-3])[ELPDF][E-L4-8]{2}\1-[A-D][R0][J-P5-6]{3}-[DPGHYE][GFPOD]{3}[A-SX-Z]/.test(
		code
	);
}

module.exports.validateEntLicense = validateEntLicense;

function domainsHash(domain) {
	const domains = domain.split('.');

	return domains
		.map((p) => {
			if (p[0] && p[0].charCodeAt(0)) {
				return String.fromCharCode(p[0].charCodeAt(0) + 1);
			}

			return p[0];
		})
		.concat(
			domains.map((p) => {
				if (p[p.length - 1] && p[p.length - 1].charCodeAt(0)) {
					return String.fromCharCode(
						p[p.length - 1].charCodeAt(0) - 1
					);
				}

				return p[p.length - 1];
			})
		);
}

module.exports.domainsHash = domainsHash;


/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ var __webpack_exports__ = (__webpack_exec__(134));
/******/ return __webpack_exports__;
/******/ }
]);
});